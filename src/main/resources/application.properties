# ===============================================
# CONFIGURACIÓN GENERAL
# ===============================================
spring.application.name=ms-db-client

# Puerto: Usa la variable de entorno $PORT (Render) o 8180 (Local)
server.port=${PORT:8180}

# ===============================================
# CONFIGURACIÓN DE BASE DE DATOS (POSTGRESQL - NEONDB)
# ===============================================

# 1. URL: Ahora usa una única variable que contiene el URI completo de Neon
# (ej. postgresql://user:pass@host/db?sslmode=require)
spring.datasource.url=${NEON_DB_URL}

# 2. ELIMINADAS: Estas propiedades ya no son necesarias porque user/pass están en la URL
# spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
# spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# Driver para PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver

# Dialecto de Hibernate para PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# 3. SSL/TLS: Es crucial para Neon. Se configura Hikari (pool de conexiones) para exigirlo.
spring.datasource.hikari.ssl-mode=require 

# Configuración de DDL (Data Definition Language) de JPA
# ATENCIÓN: hbm2ddl.auto es MUY importante.
spring.jpa.hibernate.ddl-auto=update

# ===============================================
# DOCUMENTACIÓN
# ===============================================
springdoc.swagger-ui.path=/swagger